<html lang="en">
<head>
<title>Host/Target specific installation notes for GCC</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Host/Target specific installation notes for GCC">
<meta name="generator" content="makeinfo 4.8">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
1999, 2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.

   Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or
any later version published by the Free Software Foundation; with no
Invariant Sections, the Front-Cover texts being (a) (see below), and
with the Back-Cover Texts being (b) (see below).  A copy of the
license is included in the section entitled "GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

     A GNU Manual

(b) The FSF's Back-Cover Text is:

     You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<h1 class="settitle">Host/Target specific installation notes for GCC</h1>
<a name="index-Specific-1"></a><a name="index-Specific-installation-notes-2"></a><a name="index-Target-specific-installation-3"></a><a name="index-Host-specific-installation-4"></a><a name="index-Target-specific-installation-notes-5"></a>
Please read this document carefully <em>before</em> installing the
GNU Compiler Collection on your machine.

     <ul>
<li><a href="#alpha-x-x">alpha*-*-*</a>
<li><a href="#alpha-dec-osf">alpha*-dec-osf*</a>
<li><a href="#alphaev5-cray-unicosmk">alphaev5-cray-unicosmk*</a>
<li><a href="#arc-x-elf">arc-*-elf</a>
<li><a href="#arm-x-elf">arm-*-elf</a>
<a href="#arm-x-coff">arm-*-coff</a>
<a href="#arm-x-aout">arm-*-aout</a>
<li><a href="#xscale-x-x">xscale-*-*</a>
<li><a href="#avr">avr</a>
<li><a href="#bfin">Blackfin</a>
<li><a href="#c4x">c4x</a>
<li><a href="#dos">DOS</a>
<li><a href="#x-x-freebsd">*-*-freebsd*</a>
<li><a href="#h8300-hms">h8300-hms</a>
<li><a href="#hppa-hp-hpux">hppa*-hp-hpux*</a>
<li><a href="#hppa-hp-hpux10">hppa*-hp-hpux10</a>
<li><a href="#hppa-hp-hpux11">hppa*-hp-hpux11</a>
<li><a href="#x-x-linux-gnu">*-*-linux-gnu</a>
<li><a href="#ix86-x-linuxaout">i?86-*-linux*aout</a>
<li><a href="#ix86-x-linux">i?86-*-linux*</a>
<li><a href="#ix86-x-sco32v5">i?86-*-sco3.2v5*</a>
<li><a href="#ix86-x-solaris210">i?86-*-solaris2.10</a>
<li><a href="#ix86-x-udk">i?86-*-udk</a>
<li><a href="#ia64-x-linux">ia64-*-linux</a>
<li><a href="#ia64-x-hpux">ia64-*-hpux*</a>
<li><a href="#x-ibm-aix">*-ibm-aix*</a>
<li><a href="#iq2000-x-elf">iq2000-*-elf</a>
<li><a href="#m32c-x-elf">m32c-*-elf</a>
<li><a href="#m32r-x-elf">m32r-*-elf</a>
<li><a href="#m6811-elf">m6811-elf</a>
<li><a href="#m6812-elf">m6812-elf</a>
<li><a href="#m68k-hp-hpux">m68k-hp-hpux</a>
<li><a href="#mips-x-x">mips-*-*</a>
<li><a href="#mips-sgi-irix5">mips-sgi-irix5</a>
<li><a href="#mips-sgi-irix6">mips-sgi-irix6</a>
<li><a href="#powerpc-x-x">powerpc*-*-*</a> powerpc-*-sysv4
<li><a href="#powerpc-x-darwin">powerpc-*-darwin*</a>
<li><a href="#powerpc-x-elf">powerpc-*-elf</a> powerpc-*-sysv4
<li><a href="#powerpc-x-linux-gnu">powerpc*-*-linux-gnu*</a>
<li><a href="#powerpc-x-netbsd">powerpc-*-netbsd*</a>
<li><a href="#powerpc-x-eabisim">powerpc-*-eabisim</a>
<li><a href="#powerpc-x-eabi">powerpc-*-eabi</a>
<li><a href="#powerpcle-x-elf">powerpcle-*-elf</a> powerpcle-*-sysv4
<li><a href="#powerpcle-x-eabisim">powerpcle-*-eabisim</a>
<li><a href="#powerpcle-x-eabi">powerpcle-*-eabi</a>
<li><a href="#s390-x-linux">s390-*-linux*</a>
<li><a href="#s390x-x-linux">s390x-*-linux*</a>
<li><a href="#s390x-ibm-tpf">s390x-ibm-tpf*</a>
<li><a href="#x-x-solaris2">*-*-solaris2*</a>
<li><a href="#sparc-sun-solaris2">sparc-sun-solaris2*</a>
<li><a href="#sparc-sun-solaris27">sparc-sun-solaris2.7</a>
<li><a href="#sparc-x-linux">sparc-*-linux*</a>
<li><a href="#sparc64-x-solaris2">sparc64-*-solaris2*</a>
<li><a href="#sparcv9-x-solaris2">sparcv9-*-solaris2*</a>
<li><a href="#x-x-sysv">*-*-sysv*</a>
<li><a href="#vax-dec-ultrix">vax-dec-ultrix</a>
<li><a href="#x-x-vxworks">*-*-vxworks*</a>
<li><a href="#x86-64-x-x">x86_64-*-*</a> amd64-*-*
<li><a href="#xtensa-x-elf">xtensa-*-elf</a>
<li><a href="#xtensa-x-linux">xtensa-*-linux*</a>
<li><a href="#windows">Microsoft Windows</a>
<li><a href="#os2">OS/2</a>
<li><a href="#older">Older systems</a>
</ul>

     <ul>
<li><a href="#elf">all ELF targets</a> (SVR4, Solaris 2, etc.) 
</ul>

   <p><!-- -------- host/target specific issues start here ---------------- -->
<hr />

<h3 class="heading"><a name="TOC0"></a><a name="alpha_002dx_002dx"></a>alpha*-*-*</h3>

<p>This section contains general configuration information for all
alpha-based platforms using ELF (in particular, ignore this section for
DEC OSF/1, Digital UNIX and Tru64 UNIX).  In addition to reading this
section, please read all other sections that match your target.

   <p>We require binutils 2.11.2 or newer. 
Previous binutils releases had a number of problems with DWARF 2
debugging information, not the least of which is incorrect linking of
shared libraries.

   <p><hr />

<h3 class="heading"><a name="TOC1"></a><a name="alpha_002ddec_002dosf"></a>alpha*-dec-osf*</h3>

<p>Systems using processors that implement the DEC Alpha architecture and
are running the DEC/Compaq Unix (DEC OSF/1, Digital UNIX, or Compaq
Tru64 UNIX) operating system, for example the DEC Alpha AXP systems.

   <p>As of GCC 3.2, versions before <code>alpha*-dec-osf4</code> are no longer
supported.  (These are the versions which identify themselves as DEC
OSF/1.)

   <p>In Digital Unix V4.0, virtual memory exhausted bootstrap failures
may be fixed by configuring with <samp><span class="option">--with-gc=simple</span></samp>,
reconfiguring Kernel Virtual Memory and Swap parameters
per the <samp><span class="command">/usr/sbin/sys_check</span></samp> Tuning Suggestions,
or applying the patch in
<a href="http://gcc.gnu.org/ml/gcc/2002-08/msg00822.html">http://gcc.gnu.org/ml/gcc/2002-08/msg00822.html</a>.

   <p>In Tru64 UNIX V5.1, Compaq introduced a new assembler that does not
currently (2001-06-13) work with <samp><span class="command">mips-tfile</span></samp>.  As a workaround,
we need to use the old assembler, invoked via the barely documented
<samp><span class="option">-oldas</span></samp> option.  To bootstrap GCC, you either need to use the
Compaq C Compiler:

<pre class="smallexample">        % CC=cc <var>srcdir</var>/configure [<var>options</var>] [<var>target</var>]
</pre>
   <p>or you can use a copy of GCC 2.95.3 or higher built on Tru64 UNIX V4.0:

<pre class="smallexample">        % CC=gcc -Wa,-oldas <var>srcdir</var>/configure [<var>options</var>] [<var>target</var>]
</pre>
   <p>As of GNU binutils 2.11.2, neither GNU <samp><span class="command">as</span></samp> nor GNU <samp><span class="command">ld</span></samp>
are supported on Tru64 UNIX, so you must not configure GCC with
<samp><span class="option">--with-gnu-as</span></samp> or <samp><span class="option">--with-gnu-ld</span></samp>.

   <p>GCC writes a `<samp><span class="samp">.verstamp</span></samp>' directive to the assembler output file
unless it is built as a cross-compiler.  It gets the version to use from
the system header file <samp><span class="file">/usr/include/stamp.h</span></samp>.  If you install a
new version of DEC Unix, you should rebuild GCC to pick up the new version
stamp.

   <p>Note that since the Alpha is a 64-bit architecture, cross-compilers from
32-bit machines will not generate code as efficient as that generated
when the compiler is running on a 64-bit machine because many
optimizations that depend on being able to represent a word on the
target in an integral value on the host cannot be performed.  Building
cross-compilers on the Alpha for 32-bit machines has only been tested in
a few cases and may not work properly.

   <p>`<samp><span class="samp">make compare</span></samp>' may fail on old versions of DEC Unix unless you add
<samp><span class="option">-save-temps</span></samp> to <code>CFLAGS</code>.  On these systems, the name of the
assembler input file is stored in the object file, and that makes
comparison fail if it differs between the <code>stage1</code> and
<code>stage2</code> compilations.  The option <samp><span class="option">-save-temps</span></samp> forces a
fixed name to be used for the assembler input file, instead of a
randomly chosen name in <samp><span class="file">/tmp</span></samp>.  Do not add <samp><span class="option">-save-temps</span></samp>
unless the comparisons fail without that option.  If you add
<samp><span class="option">-save-temps</span></samp>, you will have to manually delete the `<samp><span class="samp">.i</span></samp>' and
`<samp><span class="samp">.s</span></samp>' files after each series of compilations.

   <p>GCC now supports both the native (ECOFF) debugging format used by DBX
and GDB and an encapsulated STABS format for use only with GDB.  See the
discussion of the <samp><span class="option">--with-stabs</span></samp> option of <samp><span class="file">configure</span></samp> above
for more information on these formats and how to select them.

   <p>There is a bug in DEC's assembler that produces incorrect line numbers
for ECOFF format when the `<samp><span class="samp">.align</span></samp>' directive is used.  To work
around this problem, GCC will not emit such alignment directives
while writing ECOFF format debugging information even if optimization is
being performed.  Unfortunately, this has the very undesirable
side-effect that code addresses when <samp><span class="option">-O</span></samp> is specified are
different depending on whether or not <samp><span class="option">-g</span></samp> is also specified.

   <p>To avoid this behavior, specify <samp><span class="option">-gstabs+</span></samp> and use GDB instead of
DBX.  DEC is now aware of this problem with the assembler and hopes to
provide a fix shortly.

   <p><hr />

<h3 class="heading"><a name="TOC2"></a><a name="alphaev5_002dcray_002dunicosmk"></a>alphaev5-cray-unicosmk*</h3>

<p>Cray T3E systems running Unicos/Mk.

   <p>This port is incomplete and has many known bugs.  We hope to improve the
support for this target soon.  Currently, only the C front end is supported,
and it is not possible to build parallel applications.  Cray modules are not
supported; in particular, Craylibs are assumed to be in
<samp><span class="file">/opt/ctl/craylibs/craylibs</span></samp>.

   <p>You absolutely <strong>must</strong> use GNU make on this platform.  Also, you
need to tell GCC where to find the assembler and the linker.  The
simplest way to do so is by providing <samp><span class="option">--with-as</span></samp> and
<samp><span class="option">--with-ld</span></samp> to <samp><span class="file">configure</span></samp>, e.g.

<pre class="smallexample">         configure --with-as=/opt/ctl/bin/cam --with-ld=/opt/ctl/bin/cld \
           --enable-languages=c
</pre>
   <p>The comparison test during `<samp><span class="samp">make bootstrap</span></samp>' fails on Unicos/Mk
because the assembler inserts timestamps into object files.  You should
be able to work around this by doing `<samp><span class="samp">make all</span></samp>' after getting this
failure.

   <p><hr />

<h3 class="heading"><a name="TOC3"></a><a name="arc_002dx_002delf"></a>arc-*-elf</h3>

<p>Argonaut ARC processor. 
This configuration is intended for embedded systems.

   <p><hr />

<h3 class="heading"><a name="TOC4"></a><a name="arm_002dx_002delf"></a>arm-*-elf</h3>

<h3 class="heading"><a name="TOC5"></a><a name="xscale_002dx_002dx"></a>xscale-*-*</h3>

<p>ARM-family processors.  Subtargets that use the ELF object format
require GNU binutils 2.13 or newer.  Such subtargets include:
<code>arm-*-freebsd</code>, <code>arm-*-netbsdelf</code>, <code>arm-*-*linux</code>,
<code>arm-*-rtems</code> and <code>arm-*-kaos</code>.

   <p><hr />

<h3 class="heading"><a name="TOC6"></a><a name="arm_002dx_002dcoff"></a>arm-*-coff</h3>

<p>ARM-family processors.  Note that there are two different varieties
of PE format subtarget supported: <code>arm-wince-pe</code> and
<code>arm-pe</code> as well as a standard COFF target <code>arm-*-coff</code>.

   <p><hr />

<h3 class="heading"><a name="TOC7"></a><a name="arm_002dx_002daout"></a>arm-*-aout</h3>

<p>ARM-family processors.  These targets support the AOUT file format:
<code>arm-*-aout</code>, <code>arm-*-netbsd</code>.

   <p><hr />

<h3 class="heading"><a name="TOC8"></a><a name="avr"></a>avr</h3>

<p>ATMEL AVR-family micro controllers.  These are used in embedded
applications.  There are no standard Unix configurations. 
See &ldquo;AVR Options&rdquo; in the main manual
for the list of supported MCU types.

   <p>Use `<samp><span class="samp">configure --target=avr --enable-languages="c"</span></samp>' to configure GCC.

   <p>Further installation notes and other useful information about AVR tools
can also be obtained from:

     <ul>
<li><a href="http://www.nongnu.org/avr/">http://www.nongnu.org/avr/</a>
<li><a href="http://home.overta.ru/users/denisc/">http://home.overta.ru/users/denisc/</a>
<li><a href="http://www.amelek.gda.pl/avr/">http://www.amelek.gda.pl/avr/</a>
</ul>

   <p>We <em>strongly</em> recommend using binutils 2.13 or newer.

   <p>The following error:
<pre class="smallexample">       Error: register required
</pre>
   <p>indicates that you should upgrade to a newer version of the binutils.

   <p><hr />

<h3 class="heading"><a name="TOC9"></a><a name="bfin"></a>Blackfin</h3>

<p>The Blackfin processor, an Analog Devices DSP. 
See &ldquo;Blackfin Options&rdquo; in the main manual

   <p>More information, and a version of binutils with support for this processor,
is available at <a href="http://blackfin.uclinux.org">http://blackfin.uclinux.org</a>

   <p><hr />

<h3 class="heading"><a name="TOC10"></a><a name="c4x"></a>c4x</h3>

<p>Texas Instruments TMS320C3x and TMS320C4x Floating Point Digital Signal
Processors.  These are used in embedded applications.  There are no
standard Unix configurations. 
See &ldquo;TMS320C3x/C4x Options&rdquo; in the main manual
for the list of supported MCU types.

   <p>GCC can be configured as a cross compiler for both the C3x and C4x
architectures on the same system.  Use `<samp><span class="samp">configure --target=c4x
--enable-languages="c,c++"</span></samp>' to configure.

   <p>Further installation notes and other useful information about C4x tools
can also be obtained from:

     <ul>
<li><a href="http://www.elec.canterbury.ac.nz/c4x/">http://www.elec.canterbury.ac.nz/c4x/</a>
</ul>

   <p><hr />

<h3 class="heading"><a name="TOC11"></a><a name="cris"></a>CRIS</h3>

<p>CRIS is the CPU architecture in Axis Communications ETRAX system-on-a-chip
series.  These are used in embedded applications.

   <p>See &ldquo;CRIS Options&rdquo; in the main manual
for a list of CRIS-specific options.

   <p>There are a few different CRIS targets:
     <dl>
<dt><code>cris-axis-aout</code><dd>Old target.  Includes a multilib for the `<samp><span class="samp">elinux</span></samp>' a.out-based
target.  No multilibs for newer architecture variants. 
<br><dt><code>cris-axis-elf</code><dd>Mainly for monolithic embedded systems.  Includes a multilib for the
`<samp><span class="samp">v10</span></samp>' core used in `<samp><span class="samp">ETRAX 100 LX</span></samp>'. 
<br><dt><code>cris-axis-linux-gnu</code><dd>A GNU/Linux port for the CRIS architecture, currently targeting
`<samp><span class="samp">ETRAX 100 LX</span></samp>' by default. 
</dl>

   <p>For <code>cris-axis-aout</code> and <code>cris-axis-elf</code> you need binutils 2.11
or newer.  For <code>cris-axis-linux-gnu</code> you need binutils 2.12 or newer.

   <p>Pre-packaged tools can be obtained from
<a href="ftp://ftp.axis.com/pub/axis/tools/cris/compiler-kit/">ftp://ftp.axis.com/pub/axis/tools/cris/compiler-kit/</a>.  More
information about this platform is available at
<a href="http://developer.axis.com/">http://developer.axis.com/</a>.

   <p><hr />

<h3 class="heading"><a name="TOC12"></a><a name="crx"></a>CRX</h3>

<p>The CRX CompactRISC architecture is a low-power 32-bit architecture with
fast context switching and architectural extensibility features.

   <p>See &ldquo;CRX Options&rdquo; in the main manual for a list of CRX-specific options.

   <p>Use `<samp><span class="samp">configure --target=crx-elf --enable-languages=c,c++</span></samp>' to configure
GCC for building a CRX cross-compiler. The option `<samp><span class="samp">--target=crx-elf</span></samp>'
is also used to build the `<samp><span class="samp">newlib</span></samp>' C library for CRX.

   <p>It is also possible to build libstdc++-v3 for the CRX architecture. This
needs to be done in a separate step with the following configure settings:
`<samp><span class="samp">gcc/libstdc++-v3/configure --host=crx-elf --with-newlib
--enable-sjlj-exceptions --enable-cxx-flags='-fexceptions -frtti'</span></samp>'

   <p><hr />

<h3 class="heading"><a name="TOC13"></a><a name="dos"></a>DOS</h3>

<p>Please have a look at the <a href="binaries.html">binaries page</a>.

   <p>You cannot install GCC by itself on MSDOS; it will not compile under
any MSDOS compiler except itself.  You need to get the complete
compilation package DJGPP, which includes binaries as well as sources,
and includes all the necessary compilation tools and libraries.

   <p><hr />

<h3 class="heading"><a name="TOC14"></a><a name="x_002dx_002dfreebsd"></a>*-*-freebsd*</h3>

<p>The version of binutils installed in <samp><span class="file">/usr/bin</span></samp> probably works with
this release of GCC.  However, on FreeBSD 4, bootstrapping against the
latest FSF binutils is known to improve overall testsuite results; and,
on FreeBSD/alpha, using binutils 2.14 or later is required to build libjava.

   <p>Support for FreeBSD 1 was discontinued in GCC 3.2.

   <p>Support for FreeBSD 2 will be discontinued after GCC 3.4.  The
following was true for GCC 3.1 but the current status is unknown. 
For FreeBSD 2 or any mutant a.out versions of FreeBSD 3: All
configuration support and files as shipped with GCC 2.95 are still in
place.  FreeBSD 2.2.7 has been known to bootstrap completely; however,
it is unknown which version of binutils was used (it is assumed that it
was the system copy in <samp><span class="file">/usr/bin</span></samp>) and C++ EH failures were noted.

   <p>For FreeBSD using the ELF file format: DWARF 2 debugging is now the
default for all CPU architectures.  It had been the default on
FreeBSD/alpha since its inception.  You may use <samp><span class="option">-gstabs</span></samp> instead
of <samp><span class="option">-g</span></samp>, if you really want the old debugging format.  There are
no known issues with mixing object files and libraries with different
debugging formats.  Otherwise, this release of GCC should now match more
of the configuration used in the stock FreeBSD configuration of GCC.  In
particular, <samp><span class="option">--enable-threads</span></samp> is now configured by default. 
However, as a general user, do not attempt to replace the system
compiler with this release.  Known to bootstrap and check with good
results on FreeBSD 4.9-STABLE and 5-CURRENT.  In the past, known to
bootstrap and check with good results on FreeBSD 3.0, 3.4, 4.0, 4.2,
4.3, 4.4, 4.5, 4.8-STABLE.

   <p>In principle, <samp><span class="option">--enable-threads</span></samp> is now compatible with
<samp><span class="option">--enable-libgcj</span></samp> on FreeBSD.  However, it has only been built
and tested on `<samp><span class="samp">i386-*-freebsd[45]</span></samp>' and `<samp><span class="samp">alpha-*-freebsd[45]</span></samp>'. 
The static
library may be incorrectly built (symbols are missing at link time). 
There is a rare timing-based startup hang (probably involves an
assumption about the thread library).  Multi-threaded boehm-gc (required for
libjava) exposes severe threaded signal-handling bugs on FreeBSD before
4.5-RELEASE.  Other CPU architectures
supported by FreeBSD will require additional configuration tuning in, at
the very least, both boehm-gc and libffi.

   <p>Shared <samp><span class="file">libgcc_s.so</span></samp> is now built and installed by default.

   <p><hr />

<h3 class="heading"><a name="TOC15"></a><a name="h8300_002dhms"></a>h8300-hms</h3>

<p>Renesas H8/300 series of processors.

   <p>Please have a look at the <a href="binaries.html">binaries page</a>.

   <p>The calling convention and structure layout has changed in release 2.6. 
All code must be recompiled.  The calling convention now passes the
first three arguments in function calls in registers.  Structures are no
longer a multiple of 2 bytes.

   <p><hr />

<h3 class="heading"><a name="TOC16"></a><a name="hppa_002dhp_002dhpux"></a>hppa*-hp-hpux*</h3>

<p>Support for HP-UX version 9 and older was discontinued in GCC 3.4.

   <p>We require using gas/binutils on all hppa platforms;
you may encounter a variety of problems if you try to use the HP assembler.

   <p>Specifically, <samp><span class="option">-g</span></samp> does not work on HP-UX (since that system
uses a peculiar debugging format which GCC does not know about), unless
you use GAS and GDB.  It may be helpful to configure GCC with the
<a href="./configure.html#with-gnu-as"><samp><span class="option">--with-gnu-as</span></samp></a> and
<samp><span class="option">--with-as=...</span></samp> options to ensure that GCC can find GAS.

   <p>If you wish to use the pa-risc 2.0 architecture support with a 32-bit
runtime, you must use gas/binutils 2.11 or newer.

   <p>There are two default scheduling models for instructions.  These are
PROCESSOR_7100LC and PROCESSOR_8000.  They are selected from the pa-risc
architecture specified for the target machine when configuring. 
PROCESSOR_8000 is the default.  PROCESSOR_7100LC is selected when
the target is a `<samp><span class="samp">hppa1*</span></samp>' machine.

   <p>The PROCESSOR_8000 model is not well suited to older processors.  Thus,
it is important to completely specify the machine architecture when
configuring if you want a model other than PROCESSOR_8000.  The macro
TARGET_SCHED_DEFAULT can be defined in BOOT_CFLAGS if a different
default scheduling model is desired.

   <p>As of GCC 4.0, GCC uses the UNIX 95 namespace for HP-UX 10.10
through 11.00, and the UNIX 98 namespace for HP-UX 11.11 and later. 
This namespace change might cause problems when bootstrapping with
an earlier version of GCC or the HP compiler as essentially the same
namespace is required for an entire build.  This problem can be avoided
in a number of ways.  With HP cc, <samp><span class="env">UNIX_STD</span></samp> can be set to `<samp><span class="samp">95</span></samp>'
or `<samp><span class="samp">98</span></samp>'.  Another way is to add an appropriate set of predefines
to <samp><span class="env">CC</span></samp>.  The description for the <samp><span class="option">munix=</span></samp> option contains
a list of the predefines used with each standard.

   <p>As of GCC 4.1, <samp><span class="env">DWARF2</span></samp> exception handling is available on HP-UX. 
It is now the default.  This exposed a bug in the handling of data
relocations in the GAS assembler.  The handling of 64-bit data relocations
was seriously broken, affecting debugging and exception support on all
`<samp><span class="samp">hppa64-*-*</span></samp>' targets.  Under some circumstances, 32-bit data relocations
could also be handled incorrectly.  This problem is fixed in GAS version
2.16.91 20051125.

   <p>GCC versions prior to 4.1 incorrectly passed and returned complex
values.  They are now passed in the same manner as aggregates.

   <p>More specific information to `<samp><span class="samp">hppa*-hp-hpux*</span></samp>' targets follows.

   <p><hr />

<h3 class="heading"><a name="TOC17"></a><a name="hppa_002dhp_002dhpux10"></a>hppa*-hp-hpux10</h3>

<p>For hpux10.20, we <em>highly</em> recommend you pick up the latest sed patch
<code>PHCO_19798</code> from HP.  HP has two sites which provide patches free of
charge:

     <ul>
<li><a href="http://us.itrc.hp.com/service/home/home.do">US, Canada, Asia-Pacific, and
Latin-America</a><li><a href="http://europe.itrc.hp.com/service/home/home.do">http://europe.itrc.hp.com/service/home/home.do</a> Europe. 
</ul>

   <p>The HP assembler on these systems has some problems.  Most notably the
assembler inserts timestamps into each object file it creates, causing
the 3-stage comparison test to fail during a `<samp><span class="samp">make bootstrap</span></samp>'. 
You should be able to continue by saying `<samp><span class="samp">make all</span></samp>' after getting
the failure from `<samp><span class="samp">make bootstrap</span></samp>'.

   <p>GCC 4.0 requires CVS binutils as of April 28, 2004 or later.  Earlier
versions require binutils 2.8 or later.

   <p>The C++ ABI has changed incompatibly in GCC 4.0.  COMDAT subspaces are
used for one-only code and data.  This resolves many of the previous
problems in using C++ on this target.  However, the ABI is not compatible
with the one implemented under HP-UX 11 using secondary definitions.

   <p><hr />

<h3 class="heading"><a name="TOC18"></a><a name="hppa_002dhp_002dhpux11"></a>hppa*-hp-hpux11</h3>

<p>GCC 3.0 and up support HP-UX 11.  GCC 2.95.x is not supported and cannot
be used to compile GCC 3.0 and up.

   <p>Refer to <a href="binaries.html">binaries</a> for information about obtaining
precompiled GCC binaries for HP-UX.  Precompiled binaries must be obtained
to build the Ada language as it can't be bootstrapped using C.  Ada is
only available for the 32-bit PA-RISC runtime.  The libffi and libjava
haven't been ported to HP-UX and don't build.

   <p>It is possible to build GCC 3.3 starting with the bundled HP compiler,
but the process requires several steps.  GCC 3.3 can then be used to
build later versions.  The fastjar program contains ISO C code and
can't be built with the HP bundled compiler.  This problem can be
avoided by not building the Java language.  For example, use the
<samp><span class="option">--enable-languages="c,c++,f77,objc"</span></samp> option in your configure
command.

   <p>Starting with GCC 3.4 an ISO C compiler is required to bootstrap.  The
bundled compiler supports only traditional C; you will need either HP's
unbundled compiler, or a binary distribution of GCC.

   <p>There are several possible approaches to building the distribution. 
Binutils can be built first using the HP tools.  Then, the GCC
distribution can be built.  The second approach is to build GCC
first using the HP tools, then build binutils, then rebuild GCC. 
There have been problems with various binary distributions, so it
is best not to start from a binary distribution.

   <p>On 64-bit capable systems, there are two distinct targets.  Different
installation prefixes must be used if both are to be installed on
the same system.  The `<samp><span class="samp">hppa[1-2]*-hp-hpux11*</span></samp>' target generates code
for the 32-bit PA-RISC runtime architecture and uses the HP linker. 
The `<samp><span class="samp">hppa64-hp-hpux11*</span></samp>' target generates 64-bit code for the
PA-RISC 2.0 architecture.  The HP and GNU linkers are both supported
for this target.

   <p>The script config.guess now selects the target type based on the compiler
detected during configuration.  You must define <samp><span class="env">PATH</span></samp> or <samp><span class="env">CC</span></samp> so
that configure finds an appropriate compiler for the initial bootstrap. 
When <samp><span class="env">CC</span></samp> is used, the definition should contain the options that are
needed whenever <samp><span class="env">CC</span></samp> is used.

   <p>Specifically, options that determine the runtime architecture must be
in <samp><span class="env">CC</span></samp> to correctly select the target for the build.  It is also
convenient to place many other compiler options in <samp><span class="env">CC</span></samp>.  For example,
<samp><span class="env">CC="cc -Ac +DA2.0W -Wp,-H16376 -D_CLASSIC_TYPES -D_HPUX_SOURCE"</span></samp>
can be used to bootstrap the GCC 3.3 branch with the HP compiler in
64-bit K&amp;R/bundled mode.  The <samp><span class="option">+DA2.0W</span></samp> option will result in
the automatic selection of the `<samp><span class="samp">hppa64-hp-hpux11*</span></samp>' target.  The
macro definition table of cpp needs to be increased for a successful
build with the HP compiler.  _CLASSIC_TYPES and _HPUX_SOURCE need to
be defined when building with the bundled compiler, or when using the
<samp><span class="option">-Ac</span></samp> option.  These defines aren't necessary with <samp><span class="option">-Ae</span></samp>.

   <p>It is best to explicitly configure the `<samp><span class="samp">hppa64-hp-hpux11*</span></samp>' target
with the <samp><span class="option">--with-ld=...</span></samp> option.  This overrides the standard
search for ld.  The two linkers supported on this target require different
commands.  The default linker is determined during configuration.  As a
result, it's not possible to switch linkers in the middle of a GCC build. 
This has been been reported to sometimes occur in unified builds of
binutils and GCC.

   <p>GCC 3.0 through 3.2 require binutils 2.11 or above.  GCC 3.3 through
GCC 4.0 require binutils 2.14 or later.

   <p>Although the HP assembler can be used for an initial build, it shouldn't
be used with any languages other than C and perhaps Fortran due to its
many limitations.  For example, it does not support weak symbols or alias
definitions.  As a result, explicit template instantiations are required
when using C++.  This makes it difficult if not impossible to build many
C++ applications.  You can't generate debugging information when using
the HP assembler.  Finally, `<samp><span class="samp">make bootstrap</span></samp>' fails in the final
comparison of object modules due to the time stamps that it inserts into
the modules.  The bootstrap can be continued from this point with
`<samp><span class="samp">make all</span></samp>'.

   <p>A recent linker patch must be installed for the correct operation of
GCC 3.3 and later.  <code>PHSS_26559</code> and <code>PHSS_24304</code> are the
oldest linker patches that are known to work.  They are for HP-UX
11.00 and 11.11, respectively.  <code>PHSS_24303</code>, the companion to
<code>PHSS_24304</code>, might be usable but it hasn't been tested.  These
patches have been superseded.  Consult the HP patch database to obtain
the currently recommended linker patch for your system.

   <p>The patches are necessary for the support of weak symbols on the
32-bit port, and for the running of initializers and finalizers.  Weak
symbols are implemented using SOM secondary definition symbols.  Prior
to HP-UX 11, there are bugs in the linker support for secondary symbols. 
The patches correct a problem of linker core dumps creating shared
libraries containing secondary symbols, as well as various other
linking issues involving secondary symbols.

   <p>GCC 3.3 uses the ELF DT_INIT_ARRAY and DT_FINI_ARRAY capabilities to
run initializers and finalizers on the 64-bit port.  The 32-bit port
uses the linker <samp><span class="option">+init</span></samp> and <samp><span class="option">+fini</span></samp> options for the same
purpose.  The patches correct various problems with the +init/+fini
options, including program core dumps.  Binutils 2.14 corrects a
problem on the 64-bit port resulting from HP's non-standard use of
the .init and .fini sections for array initializers and finalizers.

   <p>There are a number of issues to consider in selecting which linker to
use with the 64-bit port.  The GNU 64-bit linker can only create dynamic
binaries.  The <samp><span class="option">-static</span></samp> option causes linking with archive
libraries but doesn't produce a truly static binary.  Dynamic binaries
still require final binding by the dynamic loader to resolve a set of
dynamic-loader-defined symbols.  The default behavior of the HP linker
is the same as the GNU linker.  However, it can generate true 64-bit
static binaries using the <samp><span class="option">+compat</span></samp> option.

   <p>The HP 64-bit linker doesn't support linkonce semantics.  As a
result, C++ programs have many more sections than they should.

   <p>The GNU 64-bit linker has some issues with shared library support
and exceptions.  As a result, we only support libgcc in archive
format.  For similar reasons, dwarf2 unwind and exception support
are disabled.  The GNU linker also has problems creating binaries
with <samp><span class="option">-static</span></samp>.  It doesn't provide stubs for internal
calls to global functions in shared libraries, so these calls
can't be overloaded.

   <p>Thread support is not implemented in GCC 3.0 through 3.2, so the
<samp><span class="option">--enable-threads</span></samp> configure option does not work.  In 3.3
and later, POSIX threads are supported.  The optional DCE thread
library is not supported.

   <p>This port still is undergoing significant development.

   <p><hr />

<h3 class="heading"><a name="TOC19"></a><a name="x_002dx_002dlinux_002dgnu"></a>*-*-linux-gnu</h3>

<p>Versions of libstdc++-v3 starting with 3.2.1 require bugfixes present
in glibc 2.2.5 and later.  More information is available in the
libstdc++-v3 documentation.

   <p><hr />

<h3 class="heading"><a name="TOC20"></a><a name="ix86_002dx_002dlinuxaout"></a>i?86-*-linux*aout</h3>

<p>Use this configuration to generate <samp><span class="file">a.out</span></samp> binaries on Linux-based
GNU systems.  This configuration is being superseded.

   <p><hr />

<h3 class="heading"><a name="TOC21"></a><a name="ix86_002dx_002dlinux"></a>i?86-*-linux*</h3>

<p>As of GCC 3.3, binutils 2.13.1 or later is required for this platform. 
See <a href="http://gcc.gnu.org/PR10877">bug 10877</a> for more information.

   <p>If you receive Signal 11 errors when building on GNU/Linux, then it is
possible you have a hardware problem.  Further information on this can be
found on <a href="http://www.bitwizard.nl/sig11/">www.bitwizard.nl</a>.

   <p><hr />

<h3 class="heading"><a name="TOC22"></a><a name="ix86_002dx_002dsco32v5"></a>i?86-*-sco3.2v5*</h3>

<p>Use this for the SCO OpenServer Release 5 family of operating systems.

   <p>Unlike earlier versions of GCC, the ability to generate COFF with this
target is no longer provided.

   <p>Earlier versions of GCC emitted DWARF 1 when generating ELF to allow
the system debugger to be used.  That support was too burdensome to
maintain.  GCC now emits only DWARF 2 for this target.  This means you
may use either the UDK debugger or GDB to debug programs built by this
version of GCC.

   <p>GCC is now only supported on releases 5.0.4 and later, and requires that
you install Support Level Supplement OSS646B or later, and Support Level
Supplement OSS631C or later.  If you are using release 5.0.7 of
OpenServer, you must have at least the first maintenance pack installed
(this includes the relevant portions of OSS646).  OSS646, also known as
the &ldquo;Execution Environment Update&rdquo;, provides updated link editors and
assemblers, as well as updated standard C and math libraries.  The C
startup modules are also updated to support the System V gABI draft, and
GCC relies on that behavior.  OSS631 provides a collection of commonly
used open source libraries, some of which GCC depends on (such as GNU
gettext and zlib).  SCO OpenServer Release 5.0.7 has all of this built
in by default, but OSS631C and later also apply to that release.  Please
visit
<a href="ftp://ftp.sco.com/pub/openserver5">ftp://ftp.sco.com/pub/openserver5</a>
for the latest versions of these (and other potentially useful)
supplements.

   <p>Although there is support for using the native assembler, it is
recommended that you configure GCC to use the GNU assembler.  You do
this by using the flags
<a href="./configure.html#with-gnu-as"><samp><span class="option">--with-gnu-as</span></samp></a>.  You should
use a modern version of GNU binutils.  Version 2.13.2.1 was used for all
testing.  In general, only the <samp><span class="option">--with-gnu-as</span></samp> option is tested. 
A modern bintuils (as well as a plethora of other development related
GNU utilities) can be found in Support Level Supplement OSS658A, the
&ldquo;GNU Development Tools&rdquo; package.  See the SCO web and ftp sites for details. 
That package also contains the currently &ldquo;officially supported&rdquo; version of
GCC, version 2.95.3.  It is useful for bootstrapping this version.

   <p><hr />

<h3 class="heading"><a name="TOC23"></a><a name="ix86_002dx_002dsolaris210"></a>i?86-*-solaris2.10</h3>

<p>Use this for Solaris 10 or later on x86 and x86-64 systems.  This
configuration is supported by GCC 4.0 and later versions only.

   <p>It is recommended that you configure GCC to use the GNU assembler in
<samp><span class="file">/usr/sfw/bin/gas</span></samp> but the Sun linker, using the options
<samp><span class="option">--with-gnu-as --with-as=/usr/sfw/bin/gas --without-gnu-ld
--with-ld=/usr/ccs/bin/ld</span></samp>.

   <p><hr />

<h3 class="heading"><a name="TOC24"></a><a name="ix86_002dx_002dudk"></a>i?86-*-udk</h3>

<p>This target emulates the SCO Universal Development Kit and requires that
package be installed.  (If it is installed, you will have a
<samp><span class="file">/udk/usr/ccs/bin/cc</span></samp> file present.)  It's very much like the
`<samp><span class="samp">i?86-*-unixware7*</span></samp>' target
but is meant to be used when hosting on a system where UDK isn't the
default compiler such as OpenServer 5 or Unixware 2.  This target will
generate binaries that will run on OpenServer, Unixware 2, or Unixware 7,
with the same warnings and caveats as the SCO UDK.

   <p>This target is a little tricky to build because we have to distinguish
it from the native tools (so it gets headers, startups, and libraries
from the right place) while making the tools not think we're actually
building a cross compiler.   The easiest way to do this is with a configure
command like this:

<pre class="smallexample">         CC=/udk/usr/ccs/bin/cc <var>/your/path/to</var>/gcc/configure \
           --host=i686-pc-udk --target=i686-pc-udk --program-prefix=udk-
</pre>
   <p><em>You should substitute `<samp></em><span class="samp">i686</span><em></samp>' in the above command with the appropriate
processor for your host.</em>

   <p>After the usual `<samp><span class="samp">make bootstrap</span></samp>' and
`<samp><span class="samp">make install</span></samp>', you can then access the UDK-targeted GCC
tools by adding <samp><span class="command">udk-</span></samp> before the commonly known name.  For
example, to invoke the C compiler, you would use <samp><span class="command">udk-gcc</span></samp>. 
They will coexist peacefully with any native-target GCC tools you may
have installed.

   <p><hr />

<h3 class="heading"><a name="TOC25"></a><a name="ia64_002dx_002dlinux"></a>ia64-*-linux</h3>

<p>IA-64 processor (also known as IPF, or Itanium Processor Family)
running GNU/Linux.

   <p>If you are using the installed system libunwind library with
<samp><span class="option">--with-system-libunwind</span></samp>, then you must use libunwind 0.98 or
later.

   <p>None of the following versions of GCC has an ABI that is compatible
with any of the other versions in this list, with the exception that
Red Hat 2.96 and Trillian 000171 are compatible with each other:
3.1, 3.0.2, 3.0.1, 3.0, Red Hat 2.96, and Trillian 000717. 
This primarily affects C++ programs and programs that create shared libraries. 
GCC 3.1 or later is recommended for compiling linux, the kernel. 
As of version 3.1 GCC is believed to be fully ABI compliant, and hence no
more major ABI changes are expected.

   <p><hr />

<h3 class="heading"><a name="TOC26"></a><a name="ia64_002dx_002dhpux"></a>ia64-*-hpux*</h3>

<p>Building GCC on this target requires the GNU Assembler.  The bundled HP
assembler will not work.  To prevent GCC from using the wrong assembler,
the option <samp><span class="option">--with-gnu-as</span></samp> may be necessary.

   <p>The GCC libunwind library has not been ported to HPUX.  This means that for
GCC versions 3.2.3 and earlier, <samp><span class="option">--enable-libunwind-exceptions</span></samp>
is required to build GCC.  For GCC 3.3 and later, this is the default. 
For gcc 3.4.3 and later, <samp><span class="option">--enable-libunwind-exceptions</span></samp> is
removed and the system libunwind library will always be used.

   <p><hr />
<!-- rs6000-ibm-aix*, powerpc-ibm-aix* -->

<h3 class="heading"><a name="TOC27"></a><a name="x_002dibm_002daix"></a>*-ibm-aix*</h3>

<p>Support for AIX version 3 and older was discontinued in GCC 3.4.

   <p>AIX Make frequently has problems with GCC makefiles.  GNU Make 3.79.1 or
newer is recommended to build on this platform.

   <p>&ldquo;out of memory&rdquo; bootstrap failures may indicate a problem with
process resource limits (ulimit).  Hard limits are configured in the
<samp><span class="file">/etc/security/limits</span></samp> system configuration file.

   <p>To speed up the configuration phases of bootstrapping and installing GCC,
one may use GNU Bash instead of AIX <samp><span class="command">/bin/sh</span></samp>, e.g.,

<pre class="smallexample">        % CONFIG_SHELL=/opt/freeware/bin/bash
        % export CONFIG_SHELL
</pre>
   <p>and then proceed as described in <a href="build.html">the build instructions</a>,
where we strongly recommend using GNU make and specifying an absolute path
to invoke <var>srcdir</var>/configure.

   <p>Errors involving <code>alloca</code> when building GCC generally are due
to an incorrect definition of <code>CC</code> in the Makefile or mixing files
compiled with the native C compiler and GCC.  During the stage1 phase of
the build, the native AIX compiler <strong>must</strong> be invoked as <samp><span class="command">cc</span></samp>
(not <samp><span class="command">xlc</span></samp>).  Once <samp><span class="command">configure</span></samp> has been informed of
<samp><span class="command">xlc</span></samp>, one needs to use `<samp><span class="samp">make distclean</span></samp>' to remove the
configure cache files and ensure that <samp><span class="env">CC</span></samp> environment variable
does not provide a definition that will confuse <samp><span class="command">configure</span></samp>. 
If this error occurs during stage2 or later, then the problem most likely
is the version of Make (see above).

   <p>The native <samp><span class="command">as</span></samp> and <samp><span class="command">ld</span></samp> are recommended for bootstrapping
on AIX 4 and required for bootstrapping on AIX 5L.  The GNU Assembler
reports that it supports WEAK symbols on AIX 4, which causes GCC to try to
utilize weak symbol functionality although it is not supported.  The GNU
Assembler and Linker do not support AIX 5L sufficiently to bootstrap GCC. 
The native AIX tools do interoperate with GCC.

   <p>Building <samp><span class="file">libstdc++.a</span></samp> requires a fix for an AIX Assembler bug
APAR IY26685 (AIX 4.3) or APAR IY25528 (AIX 5.1).  It also requires a
fix for another AIX Assembler bug and a co-dependent AIX Archiver fix
referenced as APAR IY53606 (AIX 5.2) or a APAR IY54774 (AIX 5.1)

   <p>`<samp><span class="samp">libstdc++</span></samp>' in GCC 3.4 increments the major version number of the
shared object and GCC installation places the <samp><span class="file">libstdc++.a</span></samp>
shared library in a common location which will overwrite the and GCC
3.3 version of the shared library.  Applications either need to be
re-linked against the new shared library or the GCC 3.1 and GCC 3.3
versions of the `<samp><span class="samp">libstdc++</span></samp>' shared object needs to be available
to the AIX runtime loader.  The GCC 3.1 `<samp><span class="samp">libstdc++.so.4</span></samp>', if
present, and GCC 3.3 `<samp><span class="samp">libstdc++.so.5</span></samp>' shared objects can be
installed for runtime dynamic loading using the following steps to set
the `<samp><span class="samp">F_LOADONLY</span></samp>' flag in the shared object for <em>each</em>
multilib <samp><span class="file">libstdc++.a</span></samp> installed:

   <p>Extract the shared objects from the currently installed
<samp><span class="file">libstdc++.a</span></samp> archive:
<pre class="smallexample">        % ar -x libstdc++.a libstdc++.so.4 libstdc++.so.5
</pre>
   <p>Enable the `<samp><span class="samp">F_LOADONLY</span></samp>' flag so that the shared object will be
available for runtime dynamic loading, but not linking:
<pre class="smallexample">        % strip -e libstdc++.so.4 libstdc++.so.5
</pre>
   <p>Archive the runtime-only shared object in the GCC 3.4
<samp><span class="file">libstdc++.a</span></samp> archive:
<pre class="smallexample">        % ar -q libstdc++.a libstdc++.so.4 libstdc++.so.5
</pre>
   <p>Linking executables and shared libraries may produce warnings of
duplicate symbols.  The assembly files generated by GCC for AIX always
have included multiple symbol definitions for certain global variable
and function declarations in the original program.  The warnings should
not prevent the linker from producing a correct library or runnable
executable.

   <p>AIX 4.3 utilizes a &ldquo;large format&rdquo; archive to support both 32-bit and
64-bit object modules.  The routines provided in AIX 4.3.0 and AIX 4.3.1
to parse archive libraries did not handle the new format correctly. 
These routines are used by GCC and result in error messages during
linking such as &ldquo;not a COFF file&rdquo;.  The version of the routines shipped
with AIX 4.3.1 should work for a 32-bit environment.  The <samp><span class="option">-g</span></samp>
option of the archive command may be used to create archives of 32-bit
objects using the original &ldquo;small format&rdquo;.  A correct version of the
routines is shipped with AIX 4.3.2 and above.

   <p>Some versions of the AIX binder (linker) can fail with a relocation
overflow severe error when the <samp><span class="option">-bbigtoc</span></samp> option is used to link
GCC-produced object files into an executable that overflows the TOC.  A fix
for APAR IX75823 (OVERFLOW DURING LINK WHEN USING GCC AND -BBIGTOC) is
available from IBM Customer Support and from its
<a href="http://techsupport.services.ibm.com/">techsupport.services.ibm.com</a>
website as PTF U455193.

   <p>The AIX 4.3.2.1 linker (bos.rte.bind_cmds Level 4.3.2.1) will dump core
with a segmentation fault when invoked by any version of GCC.  A fix for
APAR IX87327 is available from IBM Customer Support and from its
<a href="http://techsupport.services.ibm.com/">techsupport.services.ibm.com</a>
website as PTF U461879.  This fix is incorporated in AIX 4.3.3 and above.

   <p>The initial assembler shipped with AIX 4.3.0 generates incorrect object
files.  A fix for APAR IX74254 (64BIT DISASSEMBLED OUTPUT FROM COMPILER FAILS
TO ASSEMBLE/BIND) is available from IBM Customer Support and from its
<a href="http://techsupport.services.ibm.com/">techsupport.services.ibm.com</a>
website as PTF U453956.  This fix is incorporated in AIX 4.3.1 and above.

   <p>AIX provides National Language Support (NLS).  Compilers and assemblers
use NLS to support locale-specific representations of various data
formats including floating-point numbers (e.g., `<samp><span class="samp">.</span></samp>'  vs `<samp><span class="samp">,</span></samp>' for
separating decimal fractions).  There have been problems reported where
GCC does not produce the same floating-point formats that the assembler
expects.  If one encounters this problem, set the <samp><span class="env">LANG</span></samp>
environment variable to `<samp><span class="samp">C</span></samp>' or `<samp><span class="samp">En_US</span></samp>'.

   <p>By default, GCC for AIX 4.1 and above produces code that can be used on
both Power or PowerPC processors.

   <p>A default can be specified with the <samp><span class="option">-mcpu=</span><var>cpu_type</var></samp>
switch and using the configure option <samp><span class="option">--with-cpu-</span><var>cpu_type</var></samp>.

   <p><hr />

<h3 class="heading"><a name="TOC28"></a><a name="iq2000_002dx_002delf"></a>iq2000-*-elf</h3>

<p>Vitesse IQ2000 processors.  These are used in embedded
applications.  There are no standard Unix configurations.

   <p><hr />

<h3 class="heading"><a name="TOC29"></a><a name="m32c_002dx_002delf"></a>m32c-*-elf</h3>

<p>Renesas M32C processor. 
This configuration is intended for embedded systems.

   <p><hr />

<h3 class="heading"><a name="TOC30"></a><a name="m32r_002dx_002delf"></a>m32r-*-elf</h3>

<p>Renesas M32R processor. 
This configuration is intended for embedded systems.

   <p><hr />

<h3 class="heading"><a name="TOC31"></a><a name="m6811_002delf"></a>m6811-elf</h3>

<p>Motorola 68HC11 family micro controllers.  These are used in embedded
applications.  There are no standard Unix configurations.

   <p><hr />

<h3 class="heading"><a name="TOC32"></a><a name="m6812_002delf"></a>m6812-elf</h3>

<p>Motorola 68HC12 family micro controllers.  These are used in embedded
applications.  There are no standard Unix configurations.

   <p><hr />

<h3 class="heading"><a name="TOC33"></a><a name="m68k_002dhp_002dhpux"></a>m68k-hp-hpux</h3>

<p>HP 9000 series 300 or 400 running HP-UX.  HP-UX version 8.0 has a bug in
the assembler that prevents compilation of GCC.  This
bug manifests itself during the first stage of compilation, while
building <samp><span class="file">libgcc2.a</span></samp>:

<pre class="smallexample">     _floatdisf
     cc1: warning: `-g' option not supported on this version of GCC
     cc1: warning: `-g1' option not supported on this version of GCC
     ./xgcc: Internal compiler error: program as got fatal signal 11
</pre>
   <p>A patched version of the assembler is available as the file
<a href="ftp://altdorf.ai.mit.edu/archive/cph/hpux-8.0-assembler">ftp://altdorf.ai.mit.edu/archive/cph/hpux-8.0-assembler</a>.  If you
have HP software support, the patch can also be obtained directly from
HP, as described in the following note:

   <blockquote>
This is the patched assembler, to patch SR#1653-010439, where the
assembler aborts on floating point constants.

        <p>The bug is not really in the assembler, but in the shared library
version of the function &ldquo;cvtnum(3c)&rdquo;.  The bug on &ldquo;cvtnum(3c)&rdquo; is
SR#4701-078451.  Anyway, the attached assembler uses the archive
library version of &ldquo;cvtnum(3c)&rdquo; and thus does not exhibit the bug. 
</blockquote>

   <p>This patch is also known as PHCO_4484.

   <p>In addition gdb does not understand that native HP-UX format, so
you must use gas if you wish to use gdb.

   <p>On HP-UX version 8.05, but not on 8.07 or more recent versions, the
<samp><span class="command">fixproto</span></samp> shell script triggers a bug in the system shell.  If you
encounter this problem, upgrade your operating system or use BASH (the
GNU shell) to run <samp><span class="command">fixproto</span></samp>.  This bug will cause the fixproto
program to report an error of the form:

<pre class="smallexample">     ./fixproto: sh internal 1K buffer overflow
</pre>
   <p>To fix this, you can also change the first line of the fixproto script
to look like:

<pre class="smallexample">     #!/bin/ksh
</pre>
   <p><hr />

<h3 class="heading"><a name="TOC34"></a><a name="mips_002dx_002dx"></a>mips-*-*</h3>

<p>If on a MIPS system you get an error message saying &ldquo;does not have gp
sections for all it's [sic] sectons [sic]&rdquo;, don't worry about it.  This
happens whenever you use GAS with the MIPS linker, but there is not
really anything wrong, and it is okay to use the output file.  You can
stop such warnings by installing the GNU linker.

   <p>It would be nice to extend GAS to produce the gp tables, but they are
optional, and there should not be a warning about their absence.

   <p>The libstdc++ atomic locking routines for MIPS targets requires MIPS II
and later.  A patch went in just after the GCC 3.3 release to
make `<samp><span class="samp">mips*-*-*</span></samp>' use the generic implementation instead.  You can also
configure for `<samp><span class="samp">mipsel-elf</span></samp>' as a workaround.  The
`<samp><span class="samp">mips*-*-linux*</span></samp>' target continues to use the MIPS II routines.  More
work on this is expected in future releases.

   <p>MIPS systems check for division by zero (unless
<samp><span class="option">-mno-check-zero-division</span></samp> is passed to the compiler) by
generating either a conditional trap or a break instruction.  Using
trap results in smaller code, but is only supported on MIPS II and
later.  Also, some versions of the Linux kernel have a bug that
prevents trap from generating the proper signal (<code>SIGFPE</code>).  To enable
the use of break, use the <samp><span class="option">--with-divide=breaks</span></samp>
<samp><span class="command">configure</span></samp> option when configuring GCC.  The default is to
use traps on systems that support them.

   <p>Cross-compilers for the MIPS as target using the MIPS assembler
currently do not work, because the auxiliary programs
<samp><span class="file">mips-tdump.c</span></samp> and <samp><span class="file">mips-tfile.c</span></samp> can't be compiled on
anything but a MIPS.  It does work to cross compile for a MIPS
if you use the GNU assembler and linker.

   <p><hr />

<h3 class="heading"><a name="TOC35"></a><a name="mips_002dsgi_002dirix5"></a>mips-sgi-irix5</h3>

<p>In order to compile GCC on an SGI running IRIX 5, the `<samp><span class="samp">compiler_dev.hdr</span></samp>'
subsystem must be installed from the IDO CD-ROM supplied by SGI. 
It is also available for download from
<a href="ftp://ftp.sgi.com/sgi/IRIX5.3/iris-development-option-5.3.tardist">ftp://ftp.sgi.com/sgi/IRIX5.3/iris-development-option-5.3.tardist</a>.

   <p>If you use the MIPS C compiler to bootstrap, it may be necessary
to increase its table size for switch statements with the
<samp><span class="option">-Wf,-XNg1500</span></samp> option.  If you use the <samp><span class="option">-O2</span></samp>
optimization option, you also need to use <samp><span class="option">-Olimit 3000</span></samp>.

   <p>To enable debugging under IRIX 5, you must use GNU binutils 2.15 or
later, and use the <samp><span class="option">--with-gnu-ld</span></samp> <samp><span class="command">configure</span></samp> option
when configuring GCC.  You need to use GNU <samp><span class="command">ar</span></samp> and <samp><span class="command">nm</span></samp>,
also distributed with GNU binutils.

   <p>Some users have reported that <samp><span class="command">/bin/sh</span></samp> will hang during bootstrap. 
This problem can be avoided by running the commands:

<pre class="smallexample">        % CONFIG_SHELL=/bin/ksh
        % export CONFIG_SHELL
</pre>
   <p>before starting the build.

   <p><hr />

<h3 class="heading"><a name="TOC36"></a><a name="mips_002dsgi_002dirix6"></a>mips-sgi-irix6</h3>

<p>If you are using SGI's MIPSpro <samp><span class="command">cc</span></samp> as your bootstrap compiler, you must
ensure that the N32 ABI is in use.  To test this, compile a simple C
file with <samp><span class="command">cc</span></samp> and then run <samp><span class="command">file</span></samp> on the
resulting object file.  The output should look like:

<pre class="smallexample">     test.o: ELF N32 MSB ...
</pre>
   <p>If you see:

<pre class="smallexample">     test.o: ELF 32-bit MSB ...
</pre>
   <p>or

<pre class="smallexample">     test.o: ELF 64-bit MSB ...
</pre>
   <p>then your version of <samp><span class="command">cc</span></samp> uses the O32 or N64 ABI by default.  You
should set the environment variable <samp><span class="env">CC</span></samp> to `<samp><span class="samp">cc -n32</span></samp>'
before configuring GCC.

   <p>If you want the resulting <samp><span class="command">gcc</span></samp> to run on old 32-bit systems
with the MIPS R4400 CPU, you need to ensure that only code for the `<samp><span class="samp">mips3</span></samp>'
instruction set architecture (ISA) is generated.  While GCC 3.x does
this correctly, both GCC 2.95 and SGI's MIPSpro <samp><span class="command">cc</span></samp> may change
the ISA depending on the machine where GCC is built.  Using one of them
as the bootstrap compiler may result in `<samp><span class="samp">mips4</span></samp>' code, which won't run at
all on `<samp><span class="samp">mips3</span></samp>'-only systems.  For the test program above, you should see:

<pre class="smallexample">     test.o: ELF N32 MSB mips-3 ...
</pre>
   <p>If you get:

<pre class="smallexample">     test.o: ELF N32 MSB mips-4 ...
</pre>
   <p>instead, you should set the environment variable <samp><span class="env">CC</span></samp> to `<samp><span class="samp">cc
-n32 -mips3</span></samp>' or `<samp><span class="samp">gcc -mips3</span></samp>' respectively before configuring GCC.

   <p>MIPSpro C 7.4 may cause bootstrap failures, due to a bug when inlining
<code>memcmp</code>.  Either add <code>-U__INLINE_INTRINSICS</code> to the <samp><span class="env">CC</span></samp>
environment variable as a workaround or upgrade to MIPSpro C 7.4.1m.

   <p>GCC on IRIX 6 is usually built to support the N32, O32 and N64 ABIs.  If
you build GCC on a system that doesn't have the N64 libraries installed
or cannot run 64-bit binaries,
you need to configure with <samp><span class="option">--disable-multilib</span></samp> so GCC doesn't
try to use them.  This will disable building the O32 libraries, too. 
Look for <samp><span class="file">/usr/lib64/libc.so.1</span></samp> to see if you
have the 64-bit libraries installed.

   <p>To enable debugging for the O32 ABI, you must use GNU <samp><span class="command">as</span></samp> from
GNU binutils 2.15 or later.  You may also use GNU <samp><span class="command">ld</span></samp>, but
this is not required and currently causes some problems with Ada.

   <p>The <samp><span class="option">--enable-threads</span></samp> option doesn't currently work, a patch is
in preparation for a future release.  The <samp><span class="option">--enable-libgcj</span></samp>
option is disabled by default: IRIX 6 uses a very low default limit
(20480) for the command line length.  Although <samp><span class="command">libtool</span></samp> contains a
workaround for this problem, at least the N64 `<samp><span class="samp">libgcj</span></samp>' is known not
to build despite this, running into an internal error of the native
<samp><span class="command">ld</span></samp>.  A sure fix is to increase this limit (`<samp><span class="samp">ncargs</span></samp>') to
its maximum of 262144 bytes.  If you have root access, you can use the
<samp><span class="command">systune</span></samp> command to do this.

   <p>See <a href="http://freeware.sgi.com/">http://freeware.sgi.com/</a> for more
information about using GCC on IRIX platforms.

   <p><hr />

<h3 class="heading"><a name="TOC37"></a><a name="powerpc_002dx_002dx"></a>powerpc-*-*</h3>

<p>You can specify a default version for the <samp><span class="option">-mcpu=</span><var>cpu_type</var></samp>
switch by using the configure option <samp><span class="option">--with-cpu-</span><var>cpu_type</var></samp>.

   <p><hr />

<h3 class="heading"><a name="TOC38"></a><a name="powerpc_002dx_002ddarwin"></a>powerpc-*-darwin*</h3>

<p>PowerPC running Darwin (Mac OS X kernel).

   <p>Pre-installed versions of Mac OS X may not include any developer tools,
meaning that you will not be able to build GCC from source.  Tool
binaries are available at
<a href="http://developer.apple.com/darwin/projects/compiler/">http://developer.apple.com/darwin/projects/compiler/</a> (free
registration required).

   <p>This version of GCC requires at least cctools-590.7.

   <p>The version of GCC shipped by Apple typically includes a number of
extensions not available in a standard GCC release.  These extensions
are generally for backwards compatibility and best avoided.

   <p><hr />

<h3 class="heading"><a name="TOC39"></a><a name="powerpc_002dx_002delf"></a>powerpc-*-elf, powerpc-*-sysv4</h3>

<p>PowerPC system in big endian mode, running System V.4.

   <p><hr />

<h3 class="heading"><a name="TOC40"></a><a name="powerpc_002dx_002dlinux_002dgnu"></a>powerpc*-*-linux-gnu*</h3>

<p>You will need
<a href="ftp://ftp.kernel.org/pub/linux/devel/binutils">binutils 2.15</a>
or newer for a working GCC.

   <p><hr />

<h3 class="heading"><a name="TOC41"></a><a name="powerpc_002dx_002dnetbsd"></a>powerpc-*-netbsd*</h3>

<p>PowerPC system in big endian mode running NetBSD.  To build the
documentation you will need Texinfo version 4.2 (NetBSD 1.5.1 included
Texinfo version 3.12).

   <p><hr />

<h3 class="heading"><a name="TOC42"></a><a name="powerpc_002dx_002deabisim"></a>powerpc-*-eabisim</h3>

<p>Embedded PowerPC system in big endian mode for use in running under the
PSIM simulator.

   <p><hr />

<h3 class="heading"><a name="TOC43"></a><a name="powerpc_002dx_002deabi"></a>powerpc-*-eabi</h3>

<p>Embedded PowerPC system in big endian mode.

   <p><hr />

<h3 class="heading"><a name="TOC44"></a><a name="powerpcle_002dx_002delf"></a>powerpcle-*-elf, powerpcle-*-sysv4</h3>

<p>PowerPC system in little endian mode, running System V.4.

   <p><hr />

<h3 class="heading"><a name="TOC45"></a><a name="powerpcle_002dx_002deabisim"></a>powerpcle-*-eabisim</h3>

<p>Embedded PowerPC system in little endian mode for use in running under
the PSIM simulator.

   <p><hr />

<h3 class="heading"><a name="TOC46"></a><a name="powerpcle_002dx_002deabi"></a>powerpcle-*-eabi</h3>

<p>Embedded PowerPC system in little endian mode.

   <p><hr />

<h3 class="heading"><a name="TOC47"></a><a name="s390_002dx_002dlinux"></a>s390-*-linux*</h3>

<p>S/390 system running GNU/Linux for S/390.

   <p><hr />

<h3 class="heading"><a name="TOC48"></a><a name="s390x_002dx_002dlinux"></a>s390x-*-linux*</h3>

<p>zSeries system (64-bit) running GNU/Linux for zSeries.

   <p><hr />

<h3 class="heading"><a name="TOC49"></a><a name="s390x_002dibm_002dtpf"></a>s390x-ibm-tpf*</h3>

<p>zSeries system (64-bit) running TPF.  This platform is
supported as cross-compilation target only.

   <p><hr /><!-- Please use Solaris 2 to refer to all release of Solaris, starting -->
<!-- with 2.0 until 2.6, 7, 8, etc.  Solaris 1 was a marketing name for -->
<!-- SunOS 4 releases which we don't use to avoid confusion.  Solaris -->
<!-- alone is too unspecific and must be avoided. -->

<h3 class="heading"><a name="TOC50"></a><a name="x_002dx_002dsolaris2"></a>*-*-solaris2*</h3>

<p>Sun does not ship a C compiler with Solaris 2.  To bootstrap and install
GCC you first have to install a pre-built compiler, see the
<a href="binaries.html">binaries page</a> for details.

   <p>The Solaris 2 <samp><span class="command">/bin/sh</span></samp> will often fail to configure
<samp><span class="file">libstdc++-v3</span></samp>, <samp><span class="file">boehm-gc</span></samp> or <samp><span class="file">libjava</span></samp>.  We therefore
recommend using the following initial sequence of commands

<pre class="smallexample">        % CONFIG_SHELL=/bin/ksh
        % export CONFIG_SHELL
</pre>
   <p>and proceed as described in <a href="configure.html">the configure instructions</a>. 
In addition we strongly recommend specifying an absolute path to invoke
<var>srcdir</var>/configure.

   <p>Solaris 2 comes with a number of optional OS packages.  Some of these
are needed to use GCC fully, namely <code>SUNWarc</code>,
<code>SUNWbtool</code>, <code>SUNWesu</code>, <code>SUNWhea</code>, <code>SUNWlibm</code>,
<code>SUNWsprot</code>, and <code>SUNWtoo</code>.  If you did not install all
optional packages when installing Solaris 2, you will need to verify that
the packages that GCC needs are installed.

   <p>To check whether an optional package is installed, use
the <samp><span class="command">pkginfo</span></samp> command.  To add an optional package, use the
<samp><span class="command">pkgadd</span></samp> command.  For further details, see the Solaris 2
documentation.

   <p>Trying to use the linker and other tools in
<samp><span class="file">/usr/ucb</span></samp> to install GCC has been observed to cause trouble. 
For example, the linker may hang indefinitely.  The fix is to remove
<samp><span class="file">/usr/ucb</span></samp> from your <samp><span class="env">PATH</span></samp>.

   <p>The build process works more smoothly with the legacy Sun tools so, if you
have <samp><span class="file">/usr/xpg4/bin</span></samp> in your <samp><span class="env">PATH</span></samp>, we recommend that you place
<samp><span class="file">/usr/bin</span></samp> before <samp><span class="file">/usr/xpg4/bin</span></samp> for the duration of the build.

   <p>All releases of GNU binutils prior to 2.11.2 have known bugs on this
platform.  We recommend the use of GNU binutils 2.11.2 or later, or the
vendor tools (Sun <samp><span class="command">as</span></samp>, Sun <samp><span class="command">ld</span></samp>).  Note that your mileage
may vary if you use a combination of the GNU tools and the Sun tools: while
the combination GNU <samp><span class="command">as</span></samp> + Sun <samp><span class="command">ld</span></samp> should reasonably work,
the reverse combination Sun <samp><span class="command">as</span></samp> + GNU <samp><span class="command">ld</span></samp> is known to
cause memory corruption at runtime in some cases for C++ programs.

   <p>The stock GNU binutils 2.15 release is broken on this platform because of a
single bug.  It has been fixed on the 2.15 branch in the CVS repository. 
You can obtain a working version by checking out the binutils-2_15-branch
from the CVS repository or applying the patch
<a href="http://sources.redhat.com/ml/binutils-cvs/2004-09/msg00036.html">http://sources.redhat.com/ml/binutils-cvs/2004-09/msg00036.html</a> to the
release.

   <p>We recommend using GNU binutils 2.16 or later in conjunction with GCC 4.x,
or the vendor tools (Sun <samp><span class="command">as</span></samp>, Sun <samp><span class="command">ld</span></samp>).  However, for
Solaris 10 and above, an additional patch is required in order for the GNU
linker to be able to cope with a new flavor of shared libraries.  You
can obtain a working version by checking out the binutils-2_16-branch from
the CVS repository or applying the patch
<a href="http://sourceware.org/ml/binutils-cvs/2005-07/msg00122.html">http://sourceware.org/ml/binutils-cvs/2005-07/msg00122.html</a> to the
release.

   <p>Sun bug 4296832 turns up when compiling X11 headers with GCC 2.95 or
newer: <samp><span class="command">g++</span></samp> will complain that types are missing.  These headers assume
that omitting the type means <code>int</code>; this assumption worked for C89 but
is wrong for C++, and is now wrong for C99 also.

   <p><samp><span class="command">g++</span></samp> accepts such (invalid) constructs with the option
<samp><span class="option">-fpermissive</span></samp>; it
will assume that any missing type is <code>int</code> (as defined by C89).

   <p>There are patches for Solaris 2.6 (105633-56 or newer for SPARC,
106248-42 or newer for Intel), Solaris 7 (108376-21 or newer for SPARC,
108377-20 for Intel), and Solaris 8 (108652-24 or newer for SPARC,
108653-22 for Intel) that fix this bug.

   <p>Sun bug 4927647 sometimes causes random spurious testsuite failures
related to missing diagnostic output.  This bug doesn't affect GCC
itself, rather it is a kernel bug triggered by the <samp><span class="command">expect</span></samp>
program which is used only by the GCC testsuite driver.  When the bug
causes the <samp><span class="command">expect</span></samp> program to miss anticipated output, extra
testsuite failures appear.

   <p>There are patches for Solaris 8 (117350-12 or newer for SPARC,
117351-12 or newer for Intel) and Solaris 9 (117171-11 or newer for
SPARC, 117172-11 or newer for Intel) that address this problem.

   <p><hr />

<h3 class="heading"><a name="TOC51"></a><a name="sparc_002dsun_002dsolaris2"></a>sparc-sun-solaris2*</h3>

<p>When GCC is configured to use binutils 2.11.2 or later the binaries
produced are smaller than the ones produced using Sun's native tools;
this difference is quite significant for binaries containing debugging
information.

   <p>Sun <samp><span class="command">as</span></samp> 4.x is broken in that it cannot cope with long symbol names. 
A typical error message might look similar to the following:

<pre class="smallexample">     /usr/ccs/bin/as: "/var/tmp/ccMsw135.s", line 11041: error:
       can't compute value of an expression involving an external symbol.
</pre>
   <p>This is Sun bug 4237974.  This is fixed with patch 108908-02 for Solaris
2.6 and has been fixed in later (5.x) versions of the assembler,
starting with Solaris 7.

   <p>Starting with Solaris 7, the operating system is capable of executing
64-bit SPARC V9 binaries.  GCC 3.1 and later properly supports
this; the <samp><span class="option">-m64</span></samp> option enables 64-bit code generation. 
However, if all you want is code tuned for the UltraSPARC CPU, you
should try the <samp><span class="option">-mtune=ultrasparc</span></samp> option instead, which produces
code that, unlike full 64-bit code, can still run on non-UltraSPARC
machines.

   <p>When configuring on a Solaris 7 or later system that is running a kernel
that supports only 32-bit binaries, one must configure with
<samp><span class="option">--disable-multilib</span></samp>, since we will not be able to build the
64-bit target libraries.

   <p>GCC 3.3 and GCC 3.4 trigger code generation bugs in earlier versions of
the GNU compiler (especially GCC 3.0.x versions), which lead to the
miscompilation of the stage1 compiler and the subsequent failure of the
bootstrap process.  A workaround is to use GCC 3.2.3 as an intermediary
stage, i.e. to bootstrap that compiler with the base compiler and then
use it to bootstrap the final compiler.

   <p>GCC 3.4 triggers a code generation bug in versions 5.4 (Sun ONE Studio 7)
and 5.5 (Sun ONE Studio 8) of the Sun compiler, which causes a bootstrap
failure in form of a miscompilation of the stage1 compiler by the Sun
compiler.  This is Sun bug 4974440.  This is fixed with patch 112760-07.

   <p>GCC 3.4 changed the default debugging format from STABS to DWARF-2 for
32-bit code on Solaris 7 and later.  If you use the Sun assembler, this
change apparently runs afoul of Sun bug 4910101 (which is referenced as
a x86-only problem by Sun, probably because they do not use DWARF-2). 
A symptom of the problem is that you cannot compile C++ programs like
<samp><span class="command">groff</span></samp> 1.19.1 without getting messages similar to the following:

<pre class="smallexample">     ld: warning: relocation error: R_SPARC_UA32: ...
       external symbolic relocation against non-allocatable section
       .debug_info cannot be processed at runtime: relocation ignored.
</pre>
   <p>To work around this problem, compile with <samp><span class="option">-gstabs+</span></samp> instead of
plain <samp><span class="option">-g</span></samp>.

   <p>When configuring the GNU Multiple Precision Library (GMP) on a Solaris 7
or later system, the canonical target triplet must be specified as the
<samp><span class="command">build</span></samp> parameter on the configure line:

<pre class="smallexample">     ./configure --build=sparc-sun-solaris2.7 --prefix=xxx --enable-mpfr
</pre>
   <p><hr />

<h3 class="heading"><a name="TOC52"></a><a name="sparc_002dsun_002dsolaris27"></a>sparc-sun-solaris2.7</h3>

<p>Sun patch 107058-01 (1999-01-13) for Solaris 7/SPARC triggers a bug in
the dynamic linker.  This problem (Sun bug 4210064) affects GCC 2.8
and later, including all EGCS releases.  Sun formerly recommended
107058-01 for all Solaris 7 users, but around 1999-09-01 it started to
recommend it only for people who use Sun's compilers.

   <p>Here are some workarounds to this problem:
     <ul>
<li>Do not install Sun patch 107058-01 until after Sun releases a
complete patch for bug 4210064.  This is the simplest course to take,
unless you must also use Sun's C compiler.  Unfortunately 107058-01
is preinstalled on some new Solaris 7-based hosts, so you may have to
back it out.

     <li>Copy the original, unpatched Solaris 7
<samp><span class="command">/usr/ccs/bin/as</span></samp> into
<samp><span class="command">/usr/local/libexec/gcc/sparc-sun-solaris2.7/3.4/as</span></samp>,
adjusting the latter name to fit your local conventions and software
version numbers.

     <li>Install Sun patch 106950-03 (1999-05-25) or later.  Nobody with
both 107058-01 and 106950-03 installed has reported the bug with GCC
and Sun's dynamic linker.  This last course of action is riskiest,
for two reasons.  First, you must install 106950 on all hosts that
run code generated by GCC; it doesn't suffice to install it only on
the hosts that run GCC itself.  Second, Sun says that 106950-03 is
only a partial fix for bug 4210064, but Sun doesn't know whether the
partial fix is adequate for GCC.  Revision -08 or later should fix
the bug.  The current (as of 2004-05-23) revision is -24, and is included in
the Solaris 7 Recommended Patch Cluster. 
</ul>

   <p>GCC 3.3 triggers a bug in version 5.0 Alpha 03/27/98 of the Sun assembler,
which causes a bootstrap failure when linking the 64-bit shared version of
libgcc.  A typical error message is:

<pre class="smallexample">     ld: fatal: relocation error: R_SPARC_32: file libgcc/sparcv9/_muldi3.o:
       symbol &lt;unknown&gt;:  offset 0xffffffff7ec133e7 is non-aligned.
</pre>
   <p>This bug has been fixed in the final 5.0 version of the assembler.

   <p>A similar problem was reported for version Sun WorkShop 6 99/08/18 of the
Sun assembler, which causes a bootstrap failure with GCC 4.0.0:

<pre class="smallexample">     ld: fatal: relocation error: R_SPARC_DISP32:
       file .libs/libstdc++.lax/libsupc++convenience.a/vterminate.o:
         symbol &lt;unknown&gt;: offset 0xfccd33ad is non-aligned
</pre>
   <p>This bug has been fixed in more recent revisions of the assembler.

   <p><hr />

<h3 class="heading"><a name="TOC53"></a><a name="sparc_002dx_002dlinux"></a>sparc-*-linux*</h3>

<p>GCC versions 3.0 and higher require binutils 2.11.2 and glibc 2.2.4
or newer on this platform.  All earlier binutils and glibc
releases mishandled unaligned relocations on <code>sparc-*-*</code> targets.

   <p><hr />

<h3 class="heading"><a name="TOC54"></a><a name="sparc64_002dx_002dsolaris2"></a>sparc64-*-solaris2*</h3>

<p>The following compiler flags must be specified in the configure
step in order to bootstrap this target with the Sun compiler:

<pre class="smallexample">        % CC="cc -xildoff -xarch=v9" <var>srcdir</var>/configure [<var>options</var>] [<var>target</var>]
</pre>
   <p><samp><span class="option">-xildoff</span></samp> turns off the incremental linker, and <samp><span class="option">-xarch=v9</span></samp>
specifies the SPARC-V9 architecture to the Sun linker and assembler.

   <p><hr />

<h3 class="heading"><a name="TOC55"></a><a name="sparcv9_002dx_002dsolaris2"></a>sparcv9-*-solaris2*</h3>

<p>This is a synonym for sparc64-*-solaris2*.

   <p><hr />

<h3 class="heading"><a name="TOC56"></a><a name="x_002dx_002dsysv"></a>*-*-sysv*</h3>

<p>On System V release 3, you may get this error message
while linking:

<pre class="smallexample">     ld fatal: failed to write symbol name <var>something</var>
      in strings table for file <var>whatever</var>
</pre>
   <p>This probably indicates that the disk is full or your ulimit won't allow
the file to be as large as it needs to be.

   <p>This problem can also result because the kernel parameter <code>MAXUMEM</code>
is too small.  If so, you must regenerate the kernel and make the value
much larger.  The default value is reported to be 1024; a value of 32768
is said to work.  Smaller values may also work.

   <p>On System V, if you get an error like this,

<pre class="smallexample">     /usr/local/lib/bison.simple: In function `yyparse':
     /usr/local/lib/bison.simple:625: virtual memory exhausted
</pre>
   <p class="noindent">that too indicates a problem with disk space, ulimit, or <code>MAXUMEM</code>.

   <p>On a System V release 4 system, make sure <samp><span class="file">/usr/bin</span></samp> precedes
<samp><span class="file">/usr/ucb</span></samp> in <code>PATH</code>.  The <samp><span class="command">cc</span></samp> command in
<samp><span class="file">/usr/ucb</span></samp> uses libraries which have bugs.

   <p><hr />

<h3 class="heading"><a name="TOC57"></a><a name="vax_002ddec_002dultrix"></a>vax-dec-ultrix</h3>

<p>Don't try compiling with VAX C (<samp><span class="command">vcc</span></samp>).  It produces incorrect code
in some cases (for example, when <code>alloca</code> is used).

   <p><hr />

<h3 class="heading"><a name="TOC58"></a><a name="x_002dx_002dvxworks"></a>*-*-vxworks*</h3>

<p>Support for VxWorks is in flux.  At present GCC supports <em>only</em> the
very recent VxWorks 5.5 (aka Tornado 2.2) release, and only on PowerPC. 
We welcome patches for other architectures supported by VxWorks 5.5. 
Support for VxWorks AE would also be welcome; we believe this is merely
a matter of writing an appropriate &ldquo;configlette&rdquo; (see below).  We are
not interested in supporting older, a.out or COFF-based, versions of
VxWorks in GCC 3.

   <p>VxWorks comes with an older version of GCC installed in
<samp><var>$WIND_BASE</var><span class="file">/host</span></samp>; we recommend you do not overwrite it. 
Choose an installation <var>prefix</var> entirely outside <var>$WIND_BASE</var>. 
Before running <samp><span class="command">configure</span></samp>, create the directories <samp><var>prefix</var></samp>
and <samp><var>prefix</var><span class="file">/bin</span></samp>.  Link or copy the appropriate assembler,
linker, etc. into <samp><var>prefix</var><span class="file">/bin</span></samp>, and set your <var>PATH</var> to
include that directory while running both <samp><span class="command">configure</span></samp> and
<samp><span class="command">make</span></samp>.

   <p>You must give <samp><span class="command">configure</span></samp> the
<samp><span class="option">--with-headers=</span><var>$WIND_BASE</var><span class="option">/target/h</span></samp> switch so that it can
find the VxWorks system headers.  Since VxWorks is a cross compilation
target only, you must also specify <samp><span class="option">--target=</span><var>target</var></samp>. 
<samp><span class="command">configure</span></samp> will attempt to create the directory
<samp><var>prefix</var><span class="file">/</span><var>target</var><span class="file">/sys-include</span></samp> and copy files into it;
make sure the user running <samp><span class="command">configure</span></samp> has sufficient privilege
to do so.

   <p>GCC's exception handling runtime requires a special &ldquo;configlette&rdquo;
module, <samp><span class="file">contrib/gthr_supp_vxw_5x.c</span></samp>.  Follow the instructions in
that file to add the module to your kernel build.  (Future versions of
VxWorks will incorporate this module.)

   <p><hr />

<h3 class="heading"><a name="TOC59"></a><a name="x86_002d64_002dx_002dx"></a>x86_64-*-*, amd64-*-*</h3>

<p>GCC supports the x86-64 architecture implemented by the AMD64 processor
(amd64-*-* is an alias for x86_64-*-*) on GNU/Linux, FreeBSD and NetBSD. 
On GNU/Linux the default is a bi-arch compiler which is able to generate
both 64-bit x86-64 and 32-bit x86 code (via the <samp><span class="option">-m32</span></samp> switch).

   <p><hr />

<h3 class="heading"><a name="TOC60"></a><a name="xtensa_002dx_002delf"></a>xtensa-*-elf</h3>

<p>This target is intended for embedded Xtensa systems using the
`<samp><span class="samp">newlib</span></samp>' C library.  It uses ELF but does not support shared
objects.  Designed-defined instructions specified via the
Tensilica Instruction Extension (TIE) language are only supported
through inline assembly.

   <p>The Xtensa configuration information must be specified prior to
building GCC.  The <samp><span class="file">include/xtensa-config.h</span></samp> header
file contains the configuration information.  If you created your
own Xtensa configuration with the Xtensa Processor Generator, the
downloaded files include a customized copy of this header file,
which you can use to replace the default header file.

   <p><hr />

<h3 class="heading"><a name="TOC61"></a><a name="xtensa_002dx_002dlinux"></a>xtensa-*-linux*</h3>

<p>This target is for Xtensa systems running GNU/Linux.  It supports ELF
shared objects and the GNU C library (glibc).  It also generates
position-independent code (PIC) regardless of whether the
<samp><span class="option">-fpic</span></samp> or <samp><span class="option">-fPIC</span></samp> options are used.  In other
respects, this target is the same as the
<a href="#xtensa-*-elf">`<samp><span class="samp">xtensa-*-elf</span></samp>'</a> target.

   <p><hr />

<h3 class="heading"><a name="TOC62"></a><a name="windows"></a>Microsoft Windows (32-bit)</h3>

<p>Ports of GCC are included with the
<a href="http://www.cygwin.com/">Cygwin environment</a>.

   <p>GCC will build under Cygwin without modification; it does not build
with Microsoft's C++ compiler and there are no plans to make it do so.

   <p><hr />

<h3 class="heading"><a name="TOC63"></a><a name="os2"></a>OS/2</h3>

<p>GCC does not currently support OS/2.  However, Andrew Zabolotny has been
working on a generic OS/2 port with pgcc.  The current code can be found
at <a href="http://www.goof.com/pcg/os2/">http://www.goof.com/pcg/os2/</a>.

   <p><hr />

<h3 class="heading"><a name="TOC64"></a><a name="older"></a>Older systems</h3>

<p>GCC contains support files for many older (1980s and early
1990s) Unix variants.  For the most part, support for these systems
has not been deliberately removed, but it has not been maintained for
several years and may suffer from bitrot.

   <p>Starting with GCC 3.1, each release has a list of &ldquo;obsoleted&rdquo; systems. 
Support for these systems is still present in that release, but
<samp><span class="command">configure</span></samp> will fail unless the <samp><span class="option">--enable-obsolete</span></samp>
option is given.  Unless a maintainer steps forward, support for these
systems will be removed from the next release of GCC.

   <p>Support for old systems as hosts for GCC can cause problems if the
workarounds for compiler, library and operating system bugs affect the
cleanliness or maintainability of the rest of GCC.  In some cases, to
bring GCC up on such a system, if still possible with current GCC, may
require first installing an old version of GCC which did work on that
system, and using it to compile a more recent GCC, to avoid bugs in the
vendor compiler.  Old releases of GCC 1 and GCC 2 are available in the
<samp><span class="file">old-releases</span></samp> directory on the <a href="../mirrors.html">GCC mirror sites</a>.  Header bugs may generally be avoided using
<samp><span class="command">fixincludes</span></samp>, but bugs or deficiencies in libraries and the
operating system may still cause problems.

   <p>Support for older systems as targets for cross-compilation is less
problematic than support for them as hosts for GCC; if an enthusiast
wishes to make such a target work again (including resurrecting any of
the targets that never worked with GCC 2, starting from the last
version before they were removed), patches
<a href="../contribute.html">following the usual requirements</a> would be
likely to be accepted, since they should not affect the support for more
modern targets.

   <p>For some systems, old versions of GNU binutils may also be useful,
and are available from <samp><span class="file">pub/binutils/old-releases</span></samp> on
<a href="http://sources.redhat.com/mirrors.html">sources.redhat.com mirror sites</a>.

   <p>Some of the information on specific systems above relates to
such older systems, but much of the information
about GCC on such systems (which may no longer be applicable to
current GCC) is to be found in the GCC texinfo manual.

   <p><hr />

<h3 class="heading"><a name="TOC65"></a><a name="elf"></a>all ELF targets (SVR4, Solaris 2, etc.)</h3>

<p>C++ support is significantly better on ELF targets if you use the
<a href="./configure.html#with-gnu-ld">GNU linker</a>; duplicate copies of
inlines, vtables and template instantiations will be discarded
automatically.

   <p><hr />
<p><a href="./index.html">Return to the GCC Installation page</a>

<!-- ***Old documentation****************************************************** -->
<!-- ***GFDL******************************************************************** -->
<!-- *************************************************************************** -->
<!-- Part 6 The End of the Document -->
</body></html>

